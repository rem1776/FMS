<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FMS: amip_interp_mod</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FMS
   &#160;<span id="projectnumber">2021.01-dev</span>
   </div>
   <div id="projectbrief">Flexible Modeling System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__amip__interp__mod.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Types</a> &#124;
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">amip_interp_mod<div class="ingroups"><a class="el" href="group__amip__interp.html">AMIP Interpolator</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides observed SST and ice mask data sets that have been interpolated onto your model's grid.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:gae4985aae40b07468c1b5853c6bf85e56"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__amip__interp__mod.html#gae4985aae40b07468c1b5853c6bf85e56">get_amip_sst</a> (Time, Interp, sst, err_msg, lon_model, lat_model)</td></tr>
<tr class="memdesc:gae4985aae40b07468c1b5853c6bf85e56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve sst data and amip interpolated data.  <a href="group__amip__interp__mod.html#gae4985aae40b07468c1b5853c6bf85e56">More...</a><br /></td></tr>
<tr class="separator:gae4985aae40b07468c1b5853c6bf85e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f77efe6bfff8ab1bfac97d498559f80"><td class="memItemLeft" align="right" valign="top"><a id="ga5f77efe6bfff8ab1bfac97d498559f80"></a>
subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__amip__interp__mod.html#ga5f77efe6bfff8ab1bfac97d498559f80">get_amip_ice</a> (Time, Interp, ice, err_msg)</td></tr>
<tr class="memdesc:ga5f77efe6bfff8ab1bfac97d498559f80"><td class="mdescLeft">&#160;</td><td class="mdescRight">AMIP interpolation for ice. <br /></td></tr>
<tr class="separator:ga5f77efe6bfff8ab1bfac97d498559f80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6da33323528930f4680012957d27d6db"><td class="memItemLeft" align="right" valign="top"><a id="ga6da33323528930f4680012957d27d6db"></a>
subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__amip__interp__mod.html#ga6da33323528930f4680012957d27d6db">amip_interp_init</a> ()</td></tr>
<tr class="memdesc:ga6da33323528930f4680012957d27d6db"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize <a class="el" href="group__amip__interp__mod.html">amip_interp_mod</a> for use <br /></td></tr>
<tr class="separator:ga6da33323528930f4680012957d27d6db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa680c8750f89c6444c6caf3d93b54cb4"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__amip__interp__mod.html#gaa680c8750f89c6444c6caf3d93b54cb4">amip_interp_del</a> (Interp)</td></tr>
<tr class="memdesc:gaa680c8750f89c6444c6caf3d93b54cb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees data associated with a amip_interp_type variable. Should be used for any variables initialized via <a class="el" href="group__amip__interp__mod.html">amip_interp_new Interface</a>.  <a href="group__amip__interp__mod.html#gaa680c8750f89c6444c6caf3d93b54cb4">More...</a><br /></td></tr>
<tr class="separator:gaa680c8750f89c6444c6caf3d93b54cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga9a9631f609f50e2ecfaa38396b9d143b"><td class="memItemLeft" align="right" valign="top"><a id="ga9a9631f609f50e2ecfaa38396b9d143b"></a>
integer, public&#160;</td><td class="memItemRight" valign="bottom"><b>j_sst</b> = 600</td></tr>
<tr class="separator:ga9a9631f609f50e2ecfaa38396b9d143b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63021f1ba4626283f6f058bcc5dfd3d3"><td class="memItemLeft" align="right" valign="top"><a id="ga63021f1ba4626283f6f058bcc5dfd3d3"></a>
logical, public&#160;</td><td class="memItemRight" valign="bottom"><b>forecast_mode</b> = .false.</td></tr>
<tr class="separator:ga63021f1ba4626283f6f058bcc5dfd3d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab86c0be9a47ba0d89175105753702f70"><td class="memItemLeft" align="right" valign="top"><a id="gab86c0be9a47ba0d89175105753702f70"></a>
real, dimension(:,:), allocatable, public&#160;</td><td class="memItemRight" valign="bottom"><b>sst_ncep</b></td></tr>
<tr class="separator:gab86c0be9a47ba0d89175105753702f70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a88a41790ba6fad200c8cab6ba5b6d0"><td class="memItemLeft" align="right" valign="top"><a id="ga0a88a41790ba6fad200c8cab6ba5b6d0"></a>
real, dimension(:,:), allocatable, public&#160;</td><td class="memItemRight" valign="bottom"><b>sst_anom</b></td></tr>
<tr class="separator:ga0a88a41790ba6fad200c8cab6ba5b6d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f4009eae2b5bf19e9e53c2e04809cf2"><td class="memItemLeft" align="right" valign="top"><a id="ga6f4009eae2b5bf19e9e53c2e04809cf2"></a>
logical, public&#160;</td><td class="memItemRight" valign="bottom"><b>use_ncep_sst</b> = .false.</td></tr>
<tr class="separator:ga6f4009eae2b5bf19e9e53c2e04809cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Provides observed SST and ice mask data sets that have been interpolated onto your model's grid. </p>
<dl class="section author"><dt>Author</dt><dd>Bruce Wyman</dd></dl>
<p>When using these routines three possible data sets are available: </p><pre class="fragment">1)  AMIP \link http://www-pcmdi.llnl.gov/amip \endlink from Jan 1979 to Jan 1989 (2 deg x 2 deg)
2)  Reynolds OI \link amip_interp.rey_oi.txt \endlink from Nov 1981 to Jan 1999 (1 deg x 1 deg)
3)  Reynolds EOF \link ftp://podaac.jpl.nasa.gov/pub/sea_surface_temperature/reynolds/rsst/doc/rsst.html \endlink from Jan 1950 to Dec 1998 (2 deg x 2 deg)

All original data are observed monthly means. This module
interpolates linearly in time between pairs of monthly means.
Horizontal interpolation is done using the horiz_interp module.

When a requested date falls outside the range of dates available
a namelist option allows for use of the climatological monthly
mean values which are computed from all of the data in a particular
data set.
</pre><p> Dataset Name = AMIP 1 from Jan 1979 to Jan 1989 (2 deg x 2 deg). Dataset Name = Reynolds OI from Nov 1981 to Jan 1999 (1 deg x 1 deg) The analysis uses in situ and satellite SST's plus SST's simulated by sea-ice cover. Dataset Name = Reynold's EOF from Jan 1950 to Dec 1998 (2 deg x 2 deg) NCEP Reynolds Historical Reconstructed Sea Surface Temperature The analysis uses both in-situ SSTs and satellite derived SSTs from the NOAA Advanced Very High Resolution Radiometer. In-situ data is used from 1950 to 1981, while both AVHRR derived satellite SSTs and in-situ data are used from 1981 to the end of 1998.</p>
<p>Note: The data set used by this module have been reformatted as 32-bit IEEE. The data values are packed into 16-bit integers.</p>
<p>The data sets are read from the following files: </p><pre class="fragment">  amip1           INPUT/amip1_sst.data
  reynolds_io     INPUT/reyoi_sst.data
  reynolds_eof    INPUT/reynolds_sst.data
</pre> 

<h3><a id="amip_interp_new"></a>amip_interp_new Interface</h3><div class="textblock">Initializes data needed for the horizontal interpolation between the sst grid and model grid. The returned variable of type amip_interp_type is needed when calling get_amip_sst and get_amip_ice.<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">the value of the namelist parameter DATA_SET being used is not allowed</td><td>Check the value of namelist variable DATA_SET.</td></tr>
    <tr><td class="paramname">FATAL</td><td>requested input data set does not exist The data set requested is valid but the data does not exist in the INPUT subdirectory. You may have requested amip2 data which has not been officially set up. See the section on DATA SETS to properly set the data up.</td></tr>
    <tr><td class="paramname">FATAL</td><td>use_climo mismatch The namelist variable date_out_of_range = 'fail' and the amip_interp_new argument use_climo = true. This combination is not allowed.</td></tr>
    <tr><td class="paramname">FATAL</td><td>use_annual(climo) mismatch The namelist variable date_out_of_range = 'fail' and the amip_interp_new argument use_annual = true. This combination is not allowed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lon</td><td>Longitude in radians of the model's grid box edges (1d lat/lon grid case) or at grid box mid-point (2d case for arbitrary grids). </td></tr>
    <tr><td class="paramname">lat</td><td>Latitude in radians of the model's grid box edges (1d lat/lon grid case) or at grid box mid-point (2d case for arbitrary grids). </td></tr>
    <tr><td class="paramname">mask</td><td>A mask for the model grid. </td></tr>
    <tr><td class="paramname">use_climo</td><td>Flag the specifies that monthly mean climatological values will be used. </td></tr>
    <tr><td class="paramname">use_annual</td><td>Flag the specifies that the annual mean climatological will be used. If both use_annual = use_climo = true, then use_annual = true will be used. </td></tr>
    <tr><td class="paramname">interp_method</td><td>specify the horiz_interp scheme. = "conservative" means conservative scheme, = "bilinear" means bilinear interpolation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Interp A defined data type variable needed when calling get_amip_sst and get_amip_ice.</dd></dl>
<p>Interp = amip_interp_new ( lon, lat, mask, use_climo, use_annual, interp_method )This function may be called to initialize multiple variables of type amip_interp_type. However, there currently is no call to release the storage used by this variable.The size of input augment mask must be a function of the size of input augments lon and lat. The first and second dimensions of mask must equal (size(lon,1)-1, size(lat,2)-1). </div>

<h3><a id="amip_interp_nml"></a>amip_interp Namelist</h3><div class="textblock"></div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="gaa680c8750f89c6444c6caf3d93b54cb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa680c8750f89c6444c6caf3d93b54cb4">&#9670;&nbsp;</a></span>amip_interp_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public amip_interp_mod::amip_interp_del </td>
          <td>(</td>
          <td class="paramtype">type (amip_interp_type), intent(inout)&#160;</td>
          <td class="paramname"><em>Interp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees data associated with a amip_interp_type variable. Should be used for any variables initialized via <a class="el" href="group__amip__interp__mod.html">amip_interp_new Interface</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Interp</td><td>A defined data type variable initialized by amip_interp_new and used when calling get_amip_sst and get_amip_ice. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="amip__interp_8F90_source.html#l01065">1065</a> of file <a class="el" href="amip__interp_8F90_source.html">amip_interp.F90</a>.</p>

</div>
</div>
<a id="gae4985aae40b07468c1b5853c6bf85e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4985aae40b07468c1b5853c6bf85e56">&#9670;&nbsp;</a></span>get_amip_sst()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public amip_interp_mod::get_amip_sst </td>
          <td>(</td>
          <td class="paramtype">type (time_type), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type (amip_interp_type), intent(inout)&#160;</td>
          <td class="paramname"><em>Interp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(out)&#160;</td>
          <td class="paramname"><em>sst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out), optional&#160;</td>
          <td class="paramname"><em>err_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in), optional&#160;</td>
          <td class="paramname"><em>lon_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in), optional&#160;</td>
          <td class="paramname"><em>lat_model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve sst data and amip interpolated data. </p>
<p>These are fms_io specific</p>

<p class="definition">Definition at line <a class="el" href="amip__interp_8F90_source.html#l00363">363</a> of file <a class="el" href="amip__interp_8F90_source.html">amip_interp.F90</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FMS: drifters/drifters.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FMS
   &#160;<span id="projectnumber">@VERSION@</span>
   </div>
   <div id="projectbrief">FMS Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('drifters_8F90.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Types</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">drifters.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>Drifters_mod</code>is a module designed to advect a set of particles, in parallel or sequentially, given an prescribed velocity field.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;fms_switches.h&quot;</code><br />
<code>#include &lt;file_version.h&gt;</code><br />
<code>#include &quot;drifters_push.h&quot;</code><br />
<code>#include &quot;drifters_set_field.h&quot;</code><br />
<code>#include &quot;drifters_compute_k.h&quot;</code><br />
</div>
<p><a href="drifters_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa33fe00203d2e2a24873f6f7e9daa13a"><td class="memItemLeft" align="right" valign="top"><a id="aa33fe00203d2e2a24873f6f7e9daa13a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_FLATTEN</b>(A)&#160;&#160;&#160;reshape((A), (/size((A))/) )</td></tr>
<tr class="separator:aa33fe00203d2e2a24873f6f7e9daa13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33bd9bdd06eea30932b7090d7706f3dc"><td class="memItemLeft" align="right" valign="top"><a id="a33bd9bdd06eea30932b7090d7706f3dc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_MPP_PE</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a33bd9bdd06eea30932b7090d7706f3dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3c055f69dbc86086e92ae0f83450c8"><td class="memItemLeft" align="right" valign="top"><a id="a8e3c055f69dbc86086e92ae0f83450c8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_MPP_ROOT</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a8e3c055f69dbc86086e92ae0f83450c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1231ce58129563a433921a2137cd19f"><td class="memItemLeft" align="right" valign="top"><a id="ae1231ce58129563a433921a2137cd19f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_MPP_NPES</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ae1231ce58129563a433921a2137cd19f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af58bf0fe90c2e73cce8b60bde7a0c4c4"><td class="memItemLeft" align="right" valign="top"><a id="af58bf0fe90c2e73cce8b60bde7a0c4c4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_TYPE_DOMAIN2D</b>&#160;&#160;&#160;integer</td></tr>
<tr class="separator:af58bf0fe90c2e73cce8b60bde7a0c4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd64ecdd7e338f494c259d5b21cf9e2"><td class="memItemLeft" align="right" valign="top"><a id="a1cd64ecdd7e338f494c259d5b21cf9e2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_DIMS</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a1cd64ecdd7e338f494c259d5b21cf9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa578880fd32387af7dae1513f31a10fe"><td class="memItemLeft" align="right" valign="top"><a id="aa578880fd32387af7dae1513f31a10fe"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>drifters_push_XXX</b>&#160;&#160;&#160;drifters_push_2</td></tr>
<tr class="separator:aa578880fd32387af7dae1513f31a10fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd64ecdd7e338f494c259d5b21cf9e2"><td class="memItemLeft" align="right" valign="top"><a id="a1cd64ecdd7e338f494c259d5b21cf9e2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_DIMS</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a1cd64ecdd7e338f494c259d5b21cf9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa578880fd32387af7dae1513f31a10fe"><td class="memItemLeft" align="right" valign="top"><a id="aa578880fd32387af7dae1513f31a10fe"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>drifters_push_XXX</b>&#160;&#160;&#160;drifters_push_3</td></tr>
<tr class="separator:aa578880fd32387af7dae1513f31a10fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd64ecdd7e338f494c259d5b21cf9e2"><td class="memItemLeft" align="right" valign="top"><a id="a1cd64ecdd7e338f494c259d5b21cf9e2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_DIMS</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a1cd64ecdd7e338f494c259d5b21cf9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6be664de6228280849604732edf38324"><td class="memItemLeft" align="right" valign="top"><a id="a6be664de6228280849604732edf38324"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>drifters_set_field_XXX</b>&#160;&#160;&#160;drifters_set_field_2d</td></tr>
<tr class="separator:a6be664de6228280849604732edf38324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd64ecdd7e338f494c259d5b21cf9e2"><td class="memItemLeft" align="right" valign="top"><a id="a1cd64ecdd7e338f494c259d5b21cf9e2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_DIMS</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a1cd64ecdd7e338f494c259d5b21cf9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6be664de6228280849604732edf38324"><td class="memItemLeft" align="right" valign="top"><a id="a6be664de6228280849604732edf38324"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>drifters_set_field_XXX</b>&#160;&#160;&#160;drifters_set_field_3d</td></tr>
<tr class="separator:a6be664de6228280849604732edf38324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd64ecdd7e338f494c259d5b21cf9e2"><td class="memItemLeft" align="right" valign="top"><a id="a1cd64ecdd7e338f494c259d5b21cf9e2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_DIMS</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a1cd64ecdd7e338f494c259d5b21cf9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4bcc04c521cfd281d540ae0321cfff"><td class="memItemLeft" align="right" valign="top"><a id="ada4bcc04c521cfd281d540ae0321cfff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>drifters_compute_k_XXX</b>&#160;&#160;&#160;drifters_computek2d</td></tr>
<tr class="separator:ada4bcc04c521cfd281d540ae0321cfff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd64ecdd7e338f494c259d5b21cf9e2"><td class="memItemLeft" align="right" valign="top"><a id="a1cd64ecdd7e338f494c259d5b21cf9e2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_DIMS</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a1cd64ecdd7e338f494c259d5b21cf9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4bcc04c521cfd281d540ae0321cfff"><td class="memItemLeft" align="right" valign="top"><a id="ada4bcc04c521cfd281d540ae0321cfff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>drifters_compute_k_XXX</b>&#160;&#160;&#160;drifters_computek3d</td></tr>
<tr class="separator:ada4bcc04c521cfd281d540ae0321cfff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:addfba33d6e4b7bdc50a58a1be1e3489b"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drifters_8F90.html#addfba33d6e4b7bdc50a58a1be1e3489b">drifters_new</a> (self, input_file, output_file, ermesg)</td></tr>
<tr class="memdesc:addfba33d6e4b7bdc50a58a1be1e3489b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will read positions stored in the netCDF file <code>input_file</code>. The trajectories will be saved in files <code>output_file.PE</code>, one file per PE domain.  <a href="drifters_8F90.html#addfba33d6e4b7bdc50a58a1be1e3489b">More...</a><br /></td></tr>
<tr class="separator:addfba33d6e4b7bdc50a58a1be1e3489b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd7a7c5d6f87429d1f125fccbbbf9a5a"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drifters_8F90.html#abd7a7c5d6f87429d1f125fccbbbf9a5a">drifters_del</a> (self, ermesg)</td></tr>
<tr class="memdesc:abd7a7c5d6f87429d1f125fccbbbf9a5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor, Call this to reclaim memory.  <a href="drifters_8F90.html#abd7a7c5d6f87429d1f125fccbbbf9a5a">More...</a><br /></td></tr>
<tr class="separator:abd7a7c5d6f87429d1f125fccbbbf9a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af48b96da0cba62052592800e59ec7529"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drifters_8F90.html#af48b96da0cba62052592800e59ec7529">drifters_set_domain</a> (self, xmin_comp, xmax_comp, ymin_comp, ymax_comp, xmin_data, xmax_data, ymin_data, ymax_data, xmin_glob, xmax_glob, ymin_glob, ymax_glob, ermesg)</td></tr>
<tr class="memdesc:af48b96da0cba62052592800e59ec7529"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the compute, data, and global domain boundaries.  <a href="drifters_8F90.html#af48b96da0cba62052592800e59ec7529">More...</a><br /></td></tr>
<tr class="separator:af48b96da0cba62052592800e59ec7529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa90f5c5c61f3e1f0a686b87cece0c1d6"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drifters_8F90.html#aa90f5c5c61f3e1f0a686b87cece0c1d6">drifters_set_pe_neighbors</a> (self, domain, ermesg)</td></tr>
<tr class="memdesc:aa90f5c5c61f3e1f0a686b87cece0c1d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given an MPP based deomposition, set the PE numbers that are adjacent to this processor.  <a href="drifters_8F90.html#aa90f5c5c61f3e1f0a686b87cece0c1d6">More...</a><br /></td></tr>
<tr class="separator:aa90f5c5c61f3e1f0a686b87cece0c1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5f4a850b28c0132197541725ed0a933"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drifters_8F90.html#ae5f4a850b28c0132197541725ed0a933">drifters_save</a> (self, ermesg)</td></tr>
<tr class="memdesc:ae5f4a850b28c0132197541725ed0a933"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this method to append the new trajectory positions and the interpolated probe fields to a netCDF file.  <a href="drifters_8F90.html#ae5f4a850b28c0132197541725ed0a933">More...</a><br /></td></tr>
<tr class="separator:ae5f4a850b28c0132197541725ed0a933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1aa7c59e21aeab310b3fd722ced015"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drifters_8F90.html#a9a1aa7c59e21aeab310b3fd722ced015">drifters_distribute</a> (self, ermesg)</td></tr>
<tr class="memdesc:a9a1aa7c59e21aeab310b3fd722ced015"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this method after setting the domain boundaries (<code>drifters_set_domain</code>) to spread the particles across PE.  <a href="drifters_8F90.html#a9a1aa7c59e21aeab310b3fd722ced015">More...</a><br /></td></tr>
<tr class="separator:a9a1aa7c59e21aeab310b3fd722ced015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e7db869b8b17f17d7c07b3c2b0cc5c2"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drifters_8F90.html#a3e7db869b8b17f17d7c07b3c2b0cc5c2">drifters_write_restart</a> (self, filename, x1, y1, geolon1, x2, y2, geolat2, root, mycomm, ermesg)</td></tr>
<tr class="memdesc:a3e7db869b8b17f17d7c07b3c2b0cc5c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write restart file. Gather all the particle positions distributed across PE domains on root PE and save the data in netCDF file.  <a href="drifters_8F90.html#a3e7db869b8b17f17d7c07b3c2b0cc5c2">More...</a><br /></td></tr>
<tr class="separator:a3e7db869b8b17f17d7c07b3c2b0cc5c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d38270021bffd79cb60096459b3ae7e"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drifters_8F90.html#a2d38270021bffd79cb60096459b3ae7e">drifters_set_v_axes</a> (self, component, x, y, z, ermesg)</td></tr>
<tr class="memdesc:a2d38270021bffd79cb60096459b3ae7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set velocity field axes.  <a href="drifters_8F90.html#a2d38270021bffd79cb60096459b3ae7e">More...</a><br /></td></tr>
<tr class="separator:a2d38270021bffd79cb60096459b3ae7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0008498100571c609b7ed537d30bd25e"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drifters_8F90.html#a0008498100571c609b7ed537d30bd25e">drifters_set_domain_bounds</a> (self, domain, backoff_x, backoff_y, ermesg)</td></tr>
<tr class="memdesc:a0008498100571c609b7ed537d30bd25e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set boundaries of "data" and "compute" domains.  <a href="drifters_8F90.html#a0008498100571c609b7ed537d30bd25e">More...</a><br /></td></tr>
<tr class="separator:a0008498100571c609b7ed537d30bd25e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957f185b18b0ab1fe8ad189b1a94f5f7"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drifters_8F90.html#a957f185b18b0ab1fe8ad189b1a94f5f7">drifters_positions2lonlat</a> (self, positions, x1, y1, geolon1, x2, y2, geolat2, lons, lats, ermesg)</td></tr>
<tr class="memdesc:a957f185b18b0ab1fe8ad189b1a94f5f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interpolates positions onto longitude/latitude grid.  <a href="drifters_8F90.html#a957f185b18b0ab1fe8ad189b1a94f5f7">More...</a><br /></td></tr>
<tr class="separator:a957f185b18b0ab1fe8ad189b1a94f5f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2ba8c08ff285a71fa0879270f0e2096"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drifters_8F90.html#af2ba8c08ff285a71fa0879270f0e2096">drifters_print_checksums</a> (self, pe, ermesg)</td></tr>
<tr class="memdesc:af2ba8c08ff285a71fa0879270f0e2096"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print Runge-Kutta check sums. Useful for debugging only.  <a href="drifters_8F90.html#af2ba8c08ff285a71fa0879270f0e2096">More...</a><br /></td></tr>
<tr class="separator:af2ba8c08ff285a71fa0879270f0e2096"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><code>Drifters_mod</code>is a module designed to advect a set of particles, in parallel or sequentially, given an prescribed velocity field. </p>
<dl class="section author"><dt>Author</dt><dd>Alexander Pletzer @email <a href="#" onclick="location.href='mai'+'lto:'+'gfd'+'l.'+'cli'+'ma'+'te.'+'mo'+'del'+'.i'+'nfo'+'@n'+'oaa'+'.g'+'ov'; return false;">gfdl.<span style="display: none;">.nosp@m.</span>clim<span style="display: none;">.nosp@m.</span>ate.m<span style="display: none;">.nosp@m.</span>odel<span style="display: none;">.nosp@m.</span>.info<span style="display: none;">.nosp@m.</span>@noa<span style="display: none;">.nosp@m.</span>a.gov</a></dd></dl>
<p>Drifters are idealized point particles with positions that evolve in time according to a prescribed velocity field, starting from some initial conditions. Drifters have no mass, no energy, no size, and no friction and therefore have no impact on the dynamics of the underlying system. The only feature that distinguishes a drifter from another is its trajectory. This makes drifters ideal for tracking pollution clouds and probing fields (e.g. temperature, salinity) along ocean currents, to name a few applications. Drifters can mimic real experiments such as the Argo floats <a href="http://www.metoffice.com/research/ocean/argo/ukfloats.html">http://www.metoffice.com/research/ocean/argo/ukfloats.html</a>.</p>
<p>When run in parallel, on a 2d decomposed domain, <code>drifters_mod</code> will handle all the bookkeeping and communication transparently for the user. This involves adding/removing drifters as they enter/leave a processor element (PE) domain. Note that the number of drifters can vary greatly both between PE domains and within a PE domain in the course of a simulation; the drifters' module will also manage dynamically the memory for the user.</p>
<p>There are a number of basic assumptions which could make the drifters' module ill-suited for some tasks. First and foremost, it is assumed that the motion of drifters is not erratic but follows deterministic trajectories. Furthermore, drifters should not cross both compute and data domain boundaries within less than a time step. This limitation is imposed by the Runge-Kutta integration scheme, which must be able to complete, within a time step, a trajectory calculation that starts inside the compute domain and ends inside the data domain. Therefore, the drifters, as they are presently modelled, are unlikely to work for very fast objects. This constraint also puts a upper limit to the domain decomposition, although it can often be remedied by increasing the number of ghost nodes.</p>
<p>Another fundamental assumption is that the (e.g. velocity) fields are structured, on a per PE domain basis. There is no support for locally nested or unstrucured meshes. Meshes need not be smooth and continuous across PE domains, however. </p>

<p class="definition">Definition in file <a class="el" href="drifters_8F90_source.html">drifters.F90</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="abd7a7c5d6f87429d1f125fccbbbf9a5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd7a7c5d6f87429d1f125fccbbbf9a5a">&#9670;&nbsp;</a></span>drifters_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public drifters_mod::drifters_del </td>
          <td>(</td>
          <td class="paramtype">type(drifters_type)&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>ermesg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor, Call this to reclaim memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">self</td><td>Opaque data structure. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ermesg</td><td>Error message (if any). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drifters_8F90_source.html#l00372">372</a> of file <a class="el" href="drifters_8F90_source.html">drifters.F90</a>.</p>

</div>
</div>
<a id="a9a1aa7c59e21aeab310b3fd722ced015"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a1aa7c59e21aeab310b3fd722ced015">&#9670;&nbsp;</a></span>drifters_distribute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public drifters_mod::drifters_distribute </td>
          <td>(</td>
          <td class="paramtype">type(drifters_type)&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>ermesg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this method after setting the domain boundaries (<code>drifters_set_domain</code>) to spread the particles across PE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">self</td><td>Opaque handle. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ermesg</td><td>Error message (if any). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drifters_8F90_source.html#l00774">774</a> of file <a class="el" href="drifters_8F90_source.html">drifters.F90</a>.</p>

</div>
</div>
<a id="addfba33d6e4b7bdc50a58a1be1e3489b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addfba33d6e4b7bdc50a58a1be1e3489b">&#9670;&nbsp;</a></span>drifters_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public drifters_mod::drifters_new </td>
          <td>(</td>
          <td class="paramtype">type(drifters_type)&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>input_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>output_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>ermesg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Will read positions stored in the netCDF file <code>input_file</code>. The trajectories will be saved in files <code>output_file.PE</code>, one file per PE domain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">self</td><td>Opaque data structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input_file</td><td>NetCDF input file name containing initial positions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_file</td><td>NetCDF output file. Will contain trajectory positions and interpolated fields. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ermesg</td><td>Error message (if any). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drifters_8F90_source.html#l00266">266</a> of file <a class="el" href="drifters_8F90_source.html">drifters.F90</a>.</p>

</div>
</div>
<a id="a957f185b18b0ab1fe8ad189b1a94f5f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a957f185b18b0ab1fe8ad189b1a94f5f7">&#9670;&nbsp;</a></span>drifters_positions2lonlat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public drifters_mod::drifters_positions2lonlat </td>
          <td>(</td>
          <td class="paramtype">type(drifters_type)&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>geolon1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>y2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>geolat2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(out)&#160;</td>
          <td class="paramname"><em>lons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(out)&#160;</td>
          <td class="paramname"><em>lats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>ermesg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interpolates positions onto longitude/latitude grid. </p>
<p>In many cases, the integrated positions will not be longitudes or latitudes. This call can be ionvoked to recover the longitude/latitude positions from the "logical" positions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">self</td><td>Opaque data structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">positions</td><td>Logical positions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x1</td><td>X-axis of "geolon1" field. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y1</td><td>Y-axis of "geolon1" field. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">geolon1</td><td>Y-axis of "geolon1" field. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x2</td><td>X-axis of "geolat2" field. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y2</td><td>Y-axis of "geolat2" field. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">geolat2</td><td>Latitude field as an array of (x2, y2) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lons</td><td>Returned longitudes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lats</td><td>Returned latitudes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ermesg</td><td>Error message (if any). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drifters_8F90_source.html#l01160">1160</a> of file <a class="el" href="drifters_8F90_source.html">drifters.F90</a>.</p>

</div>
</div>
<a id="af2ba8c08ff285a71fa0879270f0e2096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2ba8c08ff285a71fa0879270f0e2096">&#9670;&nbsp;</a></span>drifters_print_checksums()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public drifters_mod::drifters_print_checksums </td>
          <td>(</td>
          <td class="paramtype">type(drifters_type)&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>ermesg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print Runge-Kutta check sums. Useful for debugging only. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">self</td><td>Opaque handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pe</td><td>Processor element. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ermesg</td><td>Error message (if any). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drifters_8F90_source.html#l01275">1275</a> of file <a class="el" href="drifters_8F90_source.html">drifters.F90</a>.</p>

</div>
</div>
<a id="ae5f4a850b28c0132197541725ed0a933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5f4a850b28c0132197541725ed0a933">&#9670;&nbsp;</a></span>drifters_save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public drifters_mod::drifters_save </td>
          <td>(</td>
          <td class="paramtype">type(drifters_type)&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>ermesg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this method to append the new trajectory positions and the interpolated probe fields to a netCDF file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">self</td><td>Opaque daata structure. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ermesg</td><td>Error message (if any). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drifters_8F90_source.html#l00734">734</a> of file <a class="el" href="drifters_8F90_source.html">drifters.F90</a>.</p>

</div>
</div>
<a id="af48b96da0cba62052592800e59ec7529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af48b96da0cba62052592800e59ec7529">&#9670;&nbsp;</a></span>drifters_set_domain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public drifters_mod::drifters_set_domain </td>
          <td>(</td>
          <td class="paramtype">type(drifters_type)&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in), optional&#160;</td>
          <td class="paramname"><em>xmin_comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in), optional&#160;</td>
          <td class="paramname"><em>xmax_comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in), optional&#160;</td>
          <td class="paramname"><em>ymin_comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in), optional&#160;</td>
          <td class="paramname"><em>ymax_comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in), optional&#160;</td>
          <td class="paramname"><em>xmin_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in), optional&#160;</td>
          <td class="paramname"><em>xmax_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in), optional&#160;</td>
          <td class="paramname"><em>ymin_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in), optional&#160;</td>
          <td class="paramname"><em>ymax_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in), optional&#160;</td>
          <td class="paramname"><em>xmin_glob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in), optional&#160;</td>
          <td class="paramname"><em>xmax_glob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in), optional&#160;</td>
          <td class="paramname"><em>ymin_glob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in), optional&#160;</td>
          <td class="paramname"><em>ymax_glob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>ermesg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the compute, data, and global domain boundaries. </p>
<p>The data domain extends beyond the compute domain and is shared between two or more PE domains. A particle crossing the compute domain boundary will trigger a communication with one or more neighboring domains. A particle leaving the data domain will be removed from the list of particles. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">self</td><td>Opaque data structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xmin_comp</td><td>Min of longitude-like axis on compute domain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xmax_comp</td><td>Max of longitude-like axis on compute domain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ymin_comp</td><td>Min of latitude-like axis on compute domain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ymax_comp</td><td>Max of latitude-like axis on compute domain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xmin_data</td><td>Min of longitude-like axis on data domain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xmax_data</td><td>Max of longitude-like axis on data domain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ymin_data</td><td>Min of latitude-like axis on data domain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ymax_data</td><td>Max of latitude-like axis on data domain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xmin_glob</td><td>Min of longitude-like axis on global domain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xmax_glob</td><td>Max of longitude-like axis on global domain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ymin_glob</td><td>Min of latitude-like axis on global domain. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ymax_glob</td><td>Max of latitude-like axis on global domain. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ermesg</td><td>Error message (if any). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drifters_8F90_source.html#l00569">569</a> of file <a class="el" href="drifters_8F90_source.html">drifters.F90</a>.</p>

</div>
</div>
<a id="a0008498100571c609b7ed537d30bd25e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0008498100571c609b7ed537d30bd25e">&#9670;&nbsp;</a></span>drifters_set_domain_bounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public drifters_mod::drifters_set_domain_bounds </td>
          <td>(</td>
          <td class="paramtype">type(drifters_type)&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>backoff_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>backoff_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>ermesg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set boundaries of "data" and "compute" domains. </p>
<p>Each particle will be tracked sol long is it is located in the data domain. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">self</td><td>Opaque data structure. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">domain</td><td>Instance of Domain2D (see mpp_domain) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">backoff_x</td><td>particles leaves domain when crossing ied-backoff_x </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">backoff_y</td><td>particles leaves domain when crossing jed-backoff_y </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ermesg</td><td>Error message (if any). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drifters_8F90_source.html#l01080">1080</a> of file <a class="el" href="drifters_8F90_source.html">drifters.F90</a>.</p>

</div>
</div>
<a id="aa90f5c5c61f3e1f0a686b87cece0c1d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa90f5c5c61f3e1f0a686b87cece0c1d6">&#9670;&nbsp;</a></span>drifters_set_pe_neighbors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public drifters_mod::drifters_set_pe_neighbors </td>
          <td>(</td>
          <td class="paramtype">type(drifters_type)&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>ermesg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given an MPP based deomposition, set the PE numbers that are adjacent to this processor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">self</td><td>Opaque data structure. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">domain</td><td>MPP domain. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ermesg</td><td>Error message (if any). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drifters_8F90_source.html#l00642">642</a> of file <a class="el" href="drifters_8F90_source.html">drifters.F90</a>.</p>

</div>
</div>
<a id="a2d38270021bffd79cb60096459b3ae7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d38270021bffd79cb60096459b3ae7e">&#9670;&nbsp;</a></span>drifters_set_v_axes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public drifters_mod::drifters_set_v_axes </td>
          <td>(</td>
          <td class="paramtype">type(drifters_type)&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>ermesg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set velocity field axes. </p>
<p>Velocity axis components may be located on different grids or cell faces. For instance, zonal (u) and meridional (v) velcity components are staggered by half a cell size in Arakawa's C and D grids. This call will set individual axes for each components do as to allow interpolation of the velocity field on arbitrary positions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">self</td><td>Opaque data structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">component</td><td>Velocity component: either 'u', 'v', or 'w'. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>X-axis. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>Y-axis. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">z</td><td>Z-axis. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ermesg</td><td>Error message (if any). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drifters_8F90_source.html#l00975">975</a> of file <a class="el" href="drifters_8F90_source.html">drifters.F90</a>.</p>

</div>
</div>
<a id="a3e7db869b8b17f17d7c07b3c2b0cc5c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e7db869b8b17f17d7c07b3c2b0cc5c2">&#9670;&nbsp;</a></span>drifters_write_restart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public drifters_mod::drifters_write_restart </td>
          <td>(</td>
          <td class="paramtype">type(drifters_type)&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in), optional&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in), optional&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in), optional&#160;</td>
          <td class="paramname"><em>geolon1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in), optional&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:), intent(in), optional&#160;</td>
          <td class="paramname"><em>y2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in), optional&#160;</td>
          <td class="paramname"><em>geolat2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>mycomm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>ermesg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write restart file. Gather all the particle positions distributed across PE domains on root PE and save the data in netCDF file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">self</td><td>Opaque data structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Restart file name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x1</td><td>Pseudo-longitude axis supporting longitudes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y1</td><td>Pseudo-latitude axis supporting longitudes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">geolon1</td><td>Longitude array (x1, y1). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x2</td><td>Pseudo-longitude axis supporting latitudes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y2</td><td>Pseudo-latitude axis supporting latitudes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">geolat2</td><td>Latitudes array (x2, y2) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">root</td><td>root pe </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mycomm</td><td>MPI communicator </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ermesg</td><td>Error message (if any). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drifters_8F90_source.html#l00857">857</a> of file <a class="el" href="drifters_8F90_source.html">drifters.F90</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_477fe3609f5d22ca8042e79bf129e73c.html">drifters</a></li><li class="navelem"><a class="el" href="drifters_8F90.html">drifters.F90</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
